# News_Microservices
Этот проект реализует микросервисную архитектуру для новостного приложения. 
Система разделена на несколько сервисов, каждый из которых отвечает за различные аспекты, такие как аутентификация, 
управление новостями, комментарии, уведомления и т.д.

## Основные сервисы

### news-service
- Поддерживает операции CRUD (создание, чтение, обновление, удаление) для новостных статей.
- Хранит данные в PostgreSQL.

### comment-service
- Позволяет пользователям оставлять комментарии к новостям.
- Хранит комментарии в PostgreSQL.

### user-service
- Управляет профилями пользователей.
- Хранит данные пользователей и позволяет их обновлять.

### auth-service
- Обрабатывает запросы на регистрацию и аутентификацию.

### notification-service
- Хранит данные в MongoDB.
- Получает события через Kafka.

### config-server
- Хранит конфигурационные файлы для всех микросервисов.
- Обеспечивает централизованное управление конфигурациями.

### discovery-server
- Управляет регистрацией сервисов.

### gateway-server
- Обеспечивает единый вход для всех клиентов.
- Маршрутизирует запросы к соответствующим микросервисам.
- Проверяет JWT токены для обеспечения безопасности.

## Используемые технологии
Java, Spring boot, Spring Cloud, Docker, PostgreSQL, MongoDB, Kafka, 
Liquibase, Hibernate, MapStruct, JWT Token, Swagger

## Архитектура проекта
- **Микросервисы**: Каждый сервис отвечает за свою область ответственности и общается с другими сервисами через REST API и Kafka.
- **Централизованная конфигурация**: Config Server хранит конфигурации всех сервисов.
- **Service Discovery**: Eureka обеспечивает регистрацию и обнаружение сервисов.
- **API Gateway**: маршрутизирует запросы к соответствующим микросервисам.

## Security
Только пользователь с ролью ADMIN может добавлять, обновлять и удалять новости

## AUTH
### POST
* ### добавить пользователя
```
http://localhost:8222/api/v1/auth/register
```
### POST
* ### аутентификация пользователя
```
http://localhost:8222/api/v1/auth/authenticate
```
### POST
* ### обновить токен
```
http://localhost:8222/api/v1/auth/refresh-token
```

## NEWS
### POST
* ### добавить новость
```
http://localhost:8222/api/v1/news
```
### PUT
* ### обновить новость
```
http://localhost:8222/api/v1/news/{id}
```
### DELETE
* ### удалить новость
```
http://localhost:8222/api/v1/news/{id}
```
### GET
* ### получить новость по id
```
http://localhost:8222/api/v1/news/{id}
```
* ### получить все новости
```
http://localhost:8222/api/v1/news
```
## COMMENT
### POST
* ### добавить комментарий
```
http://localhost:8222/api/v1/comments
```
### PUT
* ### обновить комментарий
```
http://localhost:8222/api/v1/comments/{id}
```
### DELETE
* ### удалить комментарий
```
http://localhost:8222/api/v1/comments/{id}
```
### GET
* ### получить комментарий по id
```
http://localhost:8222/api/v1/comments/{id}
```
* ### получить все комментарии
```
http://localhost:8222/api/v1/comments
```
## USER
### POST
* ### добавить пользователя
```
http://localhost:8222/api/v1/users
```
### PUT
* ### обновить пользователя
```
http://localhost:8222/api/v1/users/{id}
```
### DELETE
* ### удалить пользователя
```
http://localhost:8222/api/v1/users/{id}
```
### GET
* ### получить пользователя по id
```
http://localhost:8222/api/v1/users/{id}
```
* ### получить пользователя по username
```
http://localhost:8222/api/v1/users/user/{username}
```
* ### получить всех пользователей
```
http://localhost:8222/api/v1/users
```